(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{237:function(e,t,a){"use strict";a.r(t);var s=a(0),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"tech-book-club-chapter-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tech-book-club-chapter-3","aria-hidden":"true"}},[e._v("#")]),e._v(" Tech Book Club - Chapter 3")]),e._v(" "),a("p",[e._v("Quick summary of last session\nChapter 3 - Installing Kubernetes\nDiscussion")]),e._v(" "),a("h2",{attrs:{id:"quick-summary-of-last-session"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#quick-summary-of-last-session","aria-hidden":"true"}},[e._v("#")]),e._v(" Quick summary of last session")]),e._v(" "),a("p",[e._v("chapter 2 summary:")]),e._v(" "),a("p",[e._v("Masters: where the control plane runs.")]),e._v(" "),a("ul",[a("li",[e._v("Make all the deployment and schedulling decisions.")]),e._v(" "),a("li",[e._v("API server exposes the public rest interface")])]),e._v(" "),a("p",[e._v("Nodes are where our microservices will run.")]),e._v(" "),a("ul",[a("li",[e._v("kublete: registers with the cluster /  communicates with control plane.")]),e._v(" "),a("li",[e._v("container runtime: docker / containerd")]),e._v(" "),a("li",[e._v("kube-proxy: networking on the node.")])]),e._v(" "),a("h2",{attrs:{id:"listen-through-this-chapter-installing-kubernetes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#listen-through-this-chapter-installing-kubernetes","aria-hidden":"true"}},[e._v("#")]),e._v(' Listen through this chapter, "Installing Kubernetes"')]),e._v(" "),a("h3",{attrs:{id:"play-with-k8s-com"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#play-with-k8s-com","aria-hidden":"true"}},[e._v("#")]),e._v(" play-with-k8s.com")]),e._v(" "),a("p",[e._v("A bit more set up when you start playing around every time, but it keeps your laptop clean and avoids any nasty surprises when running docker stuff for work.")]),e._v(" "),a("ol",[a("li",[e._v("Log in")]),e._v(" "),a("li",[e._v('click "+ ADD NEW INSTANCE", wait for it to give you a cli in the browser')]),e._v(" "),a("li",[e._v("copy the welcome message, you'll need to run those 3 commands")]),e._v(" "),a("li",[e._v("Paste and run the first command ("),a("code",[e._v("kubeadm init ...")]),e._v("), wait for it to finish and copy the "),a("code",[e._v("kubeadm join ...")]),e._v(" that's printed out.")]),e._v(" "),a("li",[e._v("copy & paste the other 2 commands")]),e._v(" "),a("li",[e._v("try running "),a("code",[e._v("kubectl get node")]),e._v(", you should see 1 master node that's ready")])]),e._v(" "),a("p",[a("strong",[e._v("Set up a second node")])]),e._v(" "),a("ol",[a("li",[e._v('click "+ ADD NEW INSTANCE", wait for it to give you a cli in the browser')]),e._v(" "),a("li",[e._v("paste the  "),a("code",[e._v("kubeadm join ...")]),e._v(" command from step 4 above.")]),e._v(" "),a("li",[e._v("back in the node 1 cli, run "),a("code",[e._v("kubectl get node")]),e._v(" (you may have to wait a bit for node2 to be ready)")])]),e._v(" "),a("h3",{attrs:{id:"docker-desktop"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-desktop","aria-hidden":"true"}},[e._v("#")]),e._v(" Docker Desktop")]),e._v(" "),a("p",[e._v("If you are looking to run kubernetes for work stuff, go for this one - it allows you to run it and connect to nexus to pull docker images. (minikube gets scuppered by pulse).")]),e._v(" "),a("ol",[a("li",[e._v("Enable Kubernetes & restart")]),e._v(" "),a("li",[e._v("run "),a("code",[e._v("kubectl get nodes")])])]),e._v(" "),a("p",[a("strong",[e._v("Set up a second node")])]),e._v(" "),a("h3",{attrs:{id:"minikube"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#minikube","aria-hidden":"true"}},[e._v("#")]),e._v(" minikube")]),e._v(" "),a("h3",{attrs:{id:"gke"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gke","aria-hidden":"true"}},[e._v("#")]),e._v(" GKE")]),e._v(" "),a("h3",{attrs:{id:"kops-on-aws"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kops-on-aws","aria-hidden":"true"}},[e._v("#")]),e._v(" kops on AWS")]),e._v(" "),a("h3",{attrs:{id:"kubeadm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubeadm","aria-hidden":"true"}},[e._v("#")]),e._v(" kubeadm")]),e._v(" "),a("p",[e._v("This is what the dev ops guys will(may) be using to set up & manage k8s nodes on prem.\nIt's what you'll use if you want to turn each computer in your house into a node.")]),e._v(" "),a("h3",{attrs:{id:"kubectl"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kubectl","aria-hidden":"true"}},[e._v("#")]),e._v(" kubectl")]),e._v(" "),a("p",[e._v("config -> clusters -> so you can talk to multiple different clusters from one laptop!\nconfig -> users -> a cluster can have multiple with varying permissions\nconfig -> contexts -> cluster + user = context. Eg, dev user + NFT cluster could be the nft-dev context")]),e._v(" "),a("p",[e._v("config lives in $HOME/.kube (it's a yaml file)")]),e._v(" "),a("p",[e._v("commands")]),e._v(" "),a("p",[e._v("kubeadm join 192.168.0.38:6443 --token gzl7lb.2ux6jba0mz1i9l5o --discovery-token-ca-cert-hash sha256:7d9abe91ce2198dd2cfa90d9ce662ac77c063763b25603dc06ed3971e21fa862")]),e._v(" "),a("h2",{attrs:{id:"discussion"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#discussion","aria-hidden":"true"}},[e._v("#")]),e._v(" Discussion")]),e._v(" "),a("ul",[a("li",[e._v("Any one tried any of these ways for running Kubernetes?")]),e._v(" "),a("li")])])}),[],!1,null,null,null);t.default=r.exports}}]);